import{j as t}from"./jsx-runtime-CDt2p4po.js";import{R as m}from"./index-GiUgBvb1.js";import{c as G}from"./clsx-B-dksMZM.js";import{f as b}from"./index-BxLnRenJ.js";function C({data:y,columns:l,loading:E,selectable:c,onRowSelect:x,emptyText:I="No data"}){const[o,_]=m.useState(null),[d,D]=m.useState(new Set),i=m.useMemo(()=>{if(!o)return y;const{key:e,direction:a}=o,r=[...y];return r.sort((f,K)=>{const s=f[e],n=K[e];return s==null&&n!=null?-1:s!=null&&n==null?1:s==null&&n==null?0:typeof s=="number"&&typeof n=="number"?a==="asc"?s-n:n-s:a==="asc"?String(s).localeCompare(String(n)):String(n).localeCompare(String(s))}),r},[y,o]);function B(e){if(!e.sortable)return;const a=e.dataIndex;_(r=>!r||r.key!==a?{key:a,direction:"asc"}:{key:a,direction:r.direction==="asc"?"desc":"asc"})}function L(e){const a=new Set(d);a.has(e)?a.delete(e):a.add(e),D(a)}return m.useEffect(()=>{if(!x)return;const e=[...d].map(a=>i[a]).filter(Boolean);x(e)},[d,i,x]),t.jsx("div",{className:"w-full overflow-x-auto border border-gray-200 dark:border-gray-800 rounded-xl",children:t.jsxs("table",{className:"w-full text-left border-collapse",role:"table",children:[t.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:t.jsxs("tr",{children:[c&&t.jsx("th",{className:"w-10 p-3",children:t.jsx("span",{className:"sr-only",children:"Select"})}),l.map(e=>{const a=o&&o.key===e.dataIndex,r=a?o.direction==="asc"?"ascending":"descending":"none";return t.jsx("th",{scope:"col","aria-sort":r,className:G("p-3 text-sm font-semibold text-gray-700 dark:text-gray-200 select-none",e.sortable&&"cursor-pointer"),onClick:()=>B(e),children:t.jsxs("div",{className:"inline-flex items-center gap-1",children:[e.title,e.sortable&&t.jsx("span",{"aria-hidden":!0,className:"text-xs",children:a?o.direction==="asc"?"▲":"▼":"↕"})]})},e.key)})]})}),t.jsx("tbody",{children:E?Array.from({length:3}).map((e,a)=>t.jsxs("tr",{className:"animate-pulse-slow",children:[c&&t.jsx("td",{className:"p-3",children:t.jsx("div",{className:"h-4 w-4 rounded bg-gray-200 dark:bg-gray-700"})}),l.map((r,f)=>t.jsx("td",{className:"p-3",children:t.jsx("div",{className:"h-4 w-32 rounded bg-gray-200 dark:bg-gray-700"})},r.key+f))]},"s"+a)):i.length===0?t.jsx("tr",{children:t.jsx("td",{className:"p-6 text-center text-sm text-gray-500",colSpan:l.length+(c?1:0),children:I})}):i.map((e,a)=>t.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900 dark:even:bg-gray-950",children:[c&&t.jsx("td",{className:"p-3 align-middle",children:t.jsx("input",{type:"checkbox","aria-label":`Select row ${a+1}`,className:"h-4 w-4",checked:d.has(a),onChange:()=>L(a)})}),l.map(r=>t.jsx("td",{className:"p-3 text-sm",children:r.render?r.render(e[r.dataIndex],e):String(e[r.dataIndex]??"")},r.key))]},a))})]})})}C.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"T"}],raw:"Column<T>"}],raw:"Column<T>[]"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},selectable:{required:!1,tsType:{name:"boolean"},description:""},onRowSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedRows: T[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"T"}],raw:"T[]"},name:"selectedRows"}],return:{name:"void"}}},description:""},emptyText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No data'",computed:!1}}}};const q=[{id:1,name:"Ada Lovelace",email:"ada@compute.io",age:36},{id:2,name:"Alan Turing",email:"alan@compute.io",age:41},{id:3,name:"Grace Hopper",email:"grace@navy.mil",age:85}],h=[{key:"name",title:"Name",dataIndex:"name",sortable:!0},{key:"email",title:"Email",dataIndex:"email"},{key:"age",title:"Age",dataIndex:"age",sortable:!0}],$={title:"Data/DataTable",component:C},u={args:{data:q,columns:h,selectable:!0,onRowSelect:b()}},p={args:{data:q,columns:h,loading:!0,onRowSelect:b()}},g={args:{data:[],columns:h,selectable:!0,onRowSelect:b()}};var S,j,w;u.parameters={...u.parameters,docs:{...(S=u.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {
    data,
    columns,
    selectable: true,
    onRowSelect: fn()
  }
}`,...(w=(j=u.parameters)==null?void 0:j.docs)==null?void 0:w.source}}};var N,k,T;p.parameters={...p.parameters,docs:{...(N=p.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    data,
    columns,
    loading: true,
    onRowSelect: fn()
  }
}`,...(T=(k=p.parameters)==null?void 0:k.docs)==null?void 0:T.source}}};var v,R,A;g.parameters={...g.parameters,docs:{...(v=g.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    data: [],
    columns,
    selectable: true,
    onRowSelect: fn()
  }
}`,...(A=(R=g.parameters)==null?void 0:R.docs)==null?void 0:A.source}}};const z=["Basic","Loading","Empty"];export{u as Basic,g as Empty,p as Loading,z as __namedExportsOrder,$ as default};
