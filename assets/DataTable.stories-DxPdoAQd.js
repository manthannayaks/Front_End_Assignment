import{j as r}from"./jsx-runtime-CDt2p4po.js";import{R as m}from"./index-GiUgBvb1.js";import{c as B}from"./clsx-B-dksMZM.js";function A({data:y,columns:d,loading:C,selectable:i,onRowSelect:x,emptyText:q="No data"}){const[o,E]=m.useState(null),[l,I]=m.useState(new Set),c=m.useMemo(()=>{if(!o)return y;const{key:e,direction:a}=o,t=[...y];return t.sort((f,R)=>{const s=f[e],n=R[e];return s==null&&n!=null?-1:s!=null&&n==null?1:s==null&&n==null?0:typeof s=="number"&&typeof n=="number"?a==="asc"?s-n:n-s:a==="asc"?String(s).localeCompare(String(n)):String(n).localeCompare(String(s))}),t},[y,o]);function _(e){if(!e.sortable)return;const a=e.dataIndex;E(t=>!t||t.key!==a?{key:a,direction:"asc"}:{key:a,direction:t.direction==="asc"?"desc":"asc"})}function D(e){const a=new Set(l);a.has(e)?a.delete(e):a.add(e),I(a)}return m.useEffect(()=>{if(!x)return;const e=[...l].map(a=>c[a]).filter(Boolean);x(e)},[l,c,x]),r.jsx("div",{className:"w-full overflow-x-auto border border-gray-200 dark:border-gray-800 rounded-xl",children:r.jsxs("table",{className:"w-full text-left border-collapse",role:"table",children:[r.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:r.jsxs("tr",{children:[i&&r.jsx("th",{className:"w-10 p-3",children:r.jsx("span",{className:"sr-only",children:"Select"})}),d.map(e=>{const a=o&&o.key===e.dataIndex,t=a?o.direction==="asc"?"ascending":"descending":"none";return r.jsx("th",{scope:"col","aria-sort":t,className:B("p-3 text-sm font-semibold text-gray-700 dark:text-gray-200 select-none",e.sortable&&"cursor-pointer"),onClick:()=>_(e),children:r.jsxs("div",{className:"inline-flex items-center gap-1",children:[e.title,e.sortable&&r.jsx("span",{"aria-hidden":!0,className:"text-xs",children:a?o.direction==="asc"?"▲":"▼":"↕"})]})},e.key)})]})}),r.jsx("tbody",{children:C?Array.from({length:3}).map((e,a)=>r.jsxs("tr",{className:"animate-pulse-slow",children:[i&&r.jsx("td",{className:"p-3",children:r.jsx("div",{className:"h-4 w-4 rounded bg-gray-200 dark:bg-gray-700"})}),d.map((t,f)=>r.jsx("td",{className:"p-3",children:r.jsx("div",{className:"h-4 w-32 rounded bg-gray-200 dark:bg-gray-700"})},t.key+f))]},"s"+a)):c.length===0?r.jsx("tr",{children:r.jsx("td",{className:"p-6 text-center text-sm text-gray-500",colSpan:d.length+(i?1:0),children:q})}):c.map((e,a)=>r.jsxs("tr",{className:"odd:bg-white even:bg-gray-50 dark:odd:bg-gray-900 dark:even:bg-gray-950",children:[i&&r.jsx("td",{className:"p-3 align-middle",children:r.jsx("input",{type:"checkbox","aria-label":`Select row ${a+1}`,className:"h-4 w-4",checked:l.has(a),onChange:()=>D(a)})}),d.map(t=>r.jsx("td",{className:"p-3 text-sm",children:t.render?t.render(e[t.dataIndex],e):String(e[t.dataIndex]??"")},t.key))]},a))})]})})}A.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"T"}],raw:"Column<T>"}],raw:"Column<T>[]"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},selectable:{required:!1,tsType:{name:"boolean"},description:""},onRowSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedRows: T[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"T"}],raw:"T[]"},name:"selectedRows"}],return:{name:"void"}}},description:""},emptyText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No data'",computed:!1}}}};const L=[{id:1,name:"Ada Lovelace",email:"ada@compute.io",age:36},{id:2,name:"Alan Turing",email:"alan@compute.io",age:41},{id:3,name:"Grace Hopper",email:"grace@navy.mil",age:85}],K=[{key:"name",title:"Name",dataIndex:"name",sortable:!0},{key:"email",title:"Email",dataIndex:"email"},{key:"age",title:"Age",dataIndex:"age",sortable:!0}],O={title:"Data/DataTable",component:A,args:{data:L,columns:K,selectable:!0}},u={},p={args:{loading:!0}},g={args:{data:[]}};var h,b,j;u.parameters={...u.parameters,docs:{...(h=u.parameters)==null?void 0:h.docs,source:{originalSource:"{}",...(j=(b=u.parameters)==null?void 0:b.docs)==null?void 0:j.source}}};var N,k,S;p.parameters={...p.parameters,docs:{...(N=p.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    loading: true
  }
}`,...(S=(k=p.parameters)==null?void 0:k.docs)==null?void 0:S.source}}};var T,w,v;g.parameters={...g.parameters,docs:{...(T=g.parameters)==null?void 0:T.docs,source:{originalSource:`{
  args: {
    data: []
  }
}`,...(v=(w=g.parameters)==null?void 0:w.docs)==null?void 0:v.source}}};const V=["Basic","Loading","Empty"];export{u as Basic,g as Empty,p as Loading,V as __namedExportsOrder,O as default};
